syntax = "proto3";

package masterworker;

service Mapper {
	rpc MapCall (MapRequest) returns (MapReply) {}	
}

message MapRequest {
	repeated ShardInfo shards = 1;
}

message ShardInfo {
	uint64 begin = 1;
	uint64 end = 2;
	string file_name = 3;
}

message MapReply {
	bool isComplete = 1;
	repeated MapResults results = 2;
}

message MapResults {
	string key_tag = 1;
	string file_name = 2;
}

service Reducer {
	rpc ReduceCall (ReduceRequest) returns (ReduceReply) {}
}

message ReduceRequest {
	string foo = 1;
}

message ReduceReply {
	string bar = 1;
}
